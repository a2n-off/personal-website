document.addEventListener("DOMContentLoaded",()=>{let e=window.innerWidth>800,t=window.innerWidth<=600;function n(){let e=new Lenis({duration:1.2,easing:e=>Math.min(1,1.001-Math.pow(2,-10*e)),direction:"vertical",gestureDirection:"vertical",smooth:!0,touchSmooth:!1});function t(n){e.raf(n),requestAnimationFrame(t)}return requestAnimationFrame(t),e.scrollTo(0,{immediate:!0,force:!0}),e}let a=n(),o=document.createElement("div");function r(e){let t=document.getElementById(e);if(t){let n=window.getComputedStyle(t),a=parseFloat(n.marginTop)+parseFloat(n.marginBottom),o=t.offsetHeight;return o+a}return 0}function l(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();let t=document.querySelector(this.getAttribute("href"));if(t){let n=r("nav"),o=t.getBoundingClientRect().top+window.scrollY-n;a.scrollTo(o)}})})}function i(e){e.addEventListener("mouseover",()=>{e.classList.add("hovered"),o.style.width="20px",o.style.height="20px",o.style.borderColor="var(--mouse-color)"}),e.addEventListener("mouseout",()=>{e.classList.remove("hovered"),o.style.width="30px",o.style.height="30px",o.style.borderColor="var(--pri-color)"})}function s(){o.id="cursor-circle",document.body.appendChild(o);let e=0,t=0,n=0,a=0;function r(n){"scroll"!==n.type&&(t=n.pageY,e=n.pageX)}document.addEventListener("mousemove",r),document.addEventListener("scroll",r),!function r(){n+=(e-n)*.08,a+=(t-a)*.08,o.style.left=n+"px",o.style.top=a+"px",requestAnimationFrame(r)}();let l=document.querySelectorAll("a");l.forEach(e=>{i(e)})}function d(){let e=document.getElementById("email"),t=document.createElement("div"),n=document.createElement("p");t.id="tooltip",n.textContent="click to copy",t.appendChild(n),document.body.appendChild(t),i(e),e.addEventListener("mouseenter",function(){t.style.display="flex"}),e.addEventListener("mouseleave",function(){t.style.display="none"}),e.addEventListener("mousemove",function(e){t.style.left=e.pageX+10+"px",t.style.top=e.pageY-t.offsetHeight-10+"px"}),e.addEventListener("click",function(){navigator.clipboard.writeText(e.getAttribute("toCopy").toLowerCase().trim()),t.textContent="copied!",setTimeout(()=>{t.textContent="click to copy"},1e3)})}function $(){let e=document.getElementById("email"),t=document.getElementById("email-action-mobile"),n;e.addEventListener("touchstart",function(a){n=setTimeout(function(){navigator.clipboard.writeText(e.getAttribute("toCopy").toLowerCase().trim()),t.textContent="Copied!",setTimeout(()=>{t.textContent="Hold to copy!"},1e3)},500)}),e.addEventListener("touchend",function(e){clearTimeout(n)})}function c(){gsap.registerPlugin(ScrollTrigger,Draggable,TextPlugin)}function u(){a.stop();let n=document.getElementById("nav"),o=document.getElementById("loader"),r=document.getElementById("bottom"),l=document.getElementById("grid-loader"),i=document.getElementById("intro"),s=document.getElementById("name"),d=document.getElementById("lastname"),$=window.getComputedStyle(l).getPropertyValue("grid-template-columns").split(" ").length,c=gsap.timeline(),u=gsap.timeline();for(let p=0;p<$;p++){let g=document.createElement("div");g.classList.add("loader-col"),g.classList.add(`c${p}`);let m=l.appendChild(g);u.to(m,{height:"100%",duration:.8},.05*p)}s.innerHTML=s.textContent.replace(/\S/g,"<span class='letter'>$&</span>"),s.style.zIndex="1",d.innerHTML=d.textContent.replace(/\S/g,"<span class='letter'>$&</span>"),d.style.zIndex="1";let h=gsap.timeline();Array.from(s.children).forEach((e,t)=>{0===t?h.to(e,{y:0,stagger:.05,autoAlpha:1,duration:.3,ease:"expoScale(0.5,7,none)"}):h.to(e,{y:0,stagger:.05,autoAlpha:1,duration:.3,ease:"expoScale(0.5,7,none)"},"<0.03")});let f=gsap.timeline();Array.from(d.children).forEach((e,t)=>{0===t?f.to(e,{y:0,stagger:.05,autoAlpha:1,duration:.3,ease:"expoScale(0.5,7,none)"}):f.to(e,{y:0,stagger:.05,autoAlpha:1,duration:.3,ease:"expoScale(0.5,7,none)"},"<0.03")});let y=gsap.timeline();y.to(o,{autoAlpha:0,duration:.8,ease:"expoScale(0.5,7,none)",onComplete(){n.style.zIndex=2,a.start(),o.remove()}});let x=gsap.timeline();x.to(n,{autoAlpha:1,y:0,stagger:.05,duration:.8,ease:"expoScale(0.5,7,none)"});let E=gsap.timeline();E.to(r,{autoAlpha:1,y:0,stagger:.05,duration:.8,ease:"expoScale(0.5,7,none)"});let v=gsap.timeline(),_=gsap.timeline(),S=i.textContent.split(" ");i.innerHTML=S.map(e=>{if("Product"===e)return`<span class='letter underlined easterEgg pm' emoji='🚀'>${e}</span>`;if("Manager,"===e&&!t)return`<span class='letter easterEgg' emoji='🚀'>${e}</span>`;if("Manager,"===e&&t)return`<span class='letter underlined easterEgg' emoji='🚀'>${e}</span>`;if("dev."===e)return`<span class='letter underlined easterEgg dev' emoji='🧑‍💻'>${e}</span>`;if("innovation,"===e)return`<span class='letter underlined easterEgg inno' emoji='💥'>${e}</span>`;else if("tech,"===e)return`<span class='letter underlined easterEgg tech' emoji='🧑‍🔧'>${e}</span>`;else if("design"===e)return`<span class='letter underlined easterEgg design' emoji='🎨'>${e}</span>`;else return`<span class='letter'>${e}</span>`}).join(" "),Array.from(i.children).forEach((e,n)=>{0===n?v.to(e,{y:0,stagger:.05,autoAlpha:1,duration:.3,ease:"expoScale(0.5,7,none)"}):v.to(e,{y:0,stagger:.05,autoAlpha:1,duration:.3,ease:"expoScale(0.5,7,none)"},"<0.03"),e.classList.contains("pm")?_.to(e,{"--pm-dur":`${t?80:200}%`,stagger:.05,autoAlpha:1,duration:.3,ease:"expoScale(0.5,7,none)"}):e.classList.contains("dev")?_.to(e,{"--dev-dur":"80%",stagger:.05,autoAlpha:1,duration:.3,ease:"expoScale(0.5,7,none)"}):e.classList.contains("underlined")&&_.to(e,{"--und-dur":"95%",stagger:.05,autoAlpha:1,duration:.3,ease:"expoScale(0.5,7,none)"})});let C=document.getElementsByClassName("animate-text-hc"),A=document.getElementsByClassName("animate-title-hc");Array.from(A).forEach((e,t)=>{e.innerHTML=e.textContent.replace(/\S/g,"<span class='animated-letter'>$&</span>");let n=gsap.timeline({scrollTrigger:{trigger:e,start:"top 90%",scrub:!1,toggleAction:"play",markers:!1}});Array.from(e.children).forEach((e,t)=>{0===t?n.to(e,{y:0,stagger:.05,autoAlpha:1,duration:.8,ease:"expoScale(0.5,7,none)"}):n.to(e,{y:0,stagger:.05,autoAlpha:1,duration:.8,ease:"expoScale(0.5,7,none)"},"<0.03"),e.classList.contains("underlined")&&_.to(e,{"--und-dur":"95%",stagger:.05,autoAlpha:1,duration:.3,ease:"expoScale(0.5,7,none)"})})}),Array.from(C).forEach((e,t)=>{let n=e.textContent.split(" ");e.innerHTML=n.map(e=>`<span class='animated-word'>${e}</span>`).join(" ");let a=gsap.timeline({scrollTrigger:{trigger:e,start:"top 90%",scrub:!1,toggleAction:"play",markers:!1}});Array.from(e.children).forEach((e,t)=>{0===t?a.to(e,{y:0,stagger:.05,autoAlpha:1,duration:.8,ease:"expoScale(0.5,7,none)"}):a.to(e,{y:0,stagger:.05,autoAlpha:1,duration:.8,ease:"expoScale(0.5,7,none)"},`<${.03/n.length}`),e.classList.contains("underlined")&&_.to(e,{"--und-dur":"95%",stagger:.05,autoAlpha:1,duration:.3,ease:"expoScale(0.5,7,none)"})})});let L=document.getElementById("grid-footer"),B=document.getElementsByClassName("text-footer"),w=gsap.timeline({scrollTrigger:{trigger:L,start:"top bottom",scrub:!1,toggleAction:"play",markers:!1}});w.to(L,{y:0,stagger:.05,autoAlpha:1,duration:.3,ease:"expoScale(0.5,7,none)"}),Array.from(B).forEach(e=>{w.to(e,{y:0,stagger:.05,autoAlpha:1,duration:.3,ease:"expoScale(0.5,7,none)"})});let T=document.querySelectorAll("img");function b(e){return new Promise(t=>{e.complete?t():(e.onload=()=>t(),e.onerror=()=>t())})}function I(e,t,n){return Math.max(t,Math.min(e,n))}async function z(){for(let e of T){await b(e);let t=e.width,n=e.height,a=t/n,o=e.src,r=document.createElement("canvas");r.width=t,r.height=n,e.parentNode.replaceChild(r,e);let l=new THREE.WebGLRenderer({canvas:r});l.setSize(t,n);let i=new THREE.Scene,s=new THREE.OrthographicCamera(-a,a,1,-1,.1,10);s.position.z=1;let d=new THREE.TextureLoader;d.load(o,function(e){let o=new THREE.MeshBasicMaterial({map:e}),d=new THREE.PlaneGeometry(2*a,2),$=new THREE.Mesh(d,o);i.add($);let c,u={x:0,y:0,vX:0,vY:0},p={x:0,y:0},g={relaxation:.96,mouse:.11,strength:.36,size:607};function m(){let e=g.size*g.size,t=new Float32Array(4*e);for(let n=0;n<e;n++){let a=4*n,o=255*Math.random()-125,r=255*Math.random()-125,l=o;t[a]=o,t[a+1]=r,t[a+2]=l}(c=new THREE.DataTexture(t,g.size,g.size,THREE.RGBAFormat,THREE.FloatType)).needsUpdate=!0}function h(){m(),e.needsUpdate=!0;let t=document.getElementById("vertexShader").textContent,n=document.getElementById("fragmentShader").textContent,o=new THREE.ShaderMaterial({extensions:{derivatives:"#extension GL_OES_standard_derivatives : enable"},side:THREE.DoubleSide,uniforms:{time:{value:0},resolution:{value:new THREE.Vector4(1,1,1,1)},uTexture:{value:e},uDataTexture:{value:c}},vertexShader:t,fragmentShader:n}),r=new THREE.PlaneGeometry(2*a,2),l=new THREE.Mesh(r,o);i.add(l)}function f(){let e=c.image.data;for(let a=0;a<e.length;a+=4)e[a]*=g.relaxation,e[a+1]*=g.relaxation;let o=g.size*u.x,r=g.size*(1-u.y),l=g.size*g.mouse,i=n/t;for(let s=0;s<g.size;s++)for(let d=0;d<g.size;d++){let $=(o-s)**2/i+(r-d)**2;if($<l**2){let p=4*(s+g.size*d),m=l/Math.sqrt($);m=I(m,0,10),e[p]+=100*g.strength*u.vX*m,e[p+1]-=100*g.strength*u.vY*m}}u.vX*=.9,u.vY*=.9,c.needsUpdate=!0}function y(){f(),l.render(i,s),requestAnimationFrame(y)}function x(e){let a=r.getBoundingClientRect();u.x=(e.clientX-a.left)/t,u.y=(e.clientY-a.top)/n,u.vX=u.x-p.x,u.vY=u.y-p.y,p.x=u.x,p.y=u.y}r.addEventListener("mousemove",e=>{x(e)});let E=gsap.timeline({scrollTrigger:{trigger:r.parentElement,start:"top 90%",scrub:!1,toggleAction:"play",markers:!1}});h(),y(r),E.to(r.parentElement,{y:0,autoAlpha:1,stagger:.05,duration:.5,ease:"expoScale(0.5,7,none)"})})}}if(e)z();else for(let k of T)gsap.timeline({scrollTrigger:{trigger:k.parentElement,start:"top 90%",scrub:!1,toggleAction:"play",markers:!1}}).to(k.parentElement,{y:0,display:"initial",autoAlpha:1,stagger:.05,duration:.5,ease:"expoScale(0.5,7,none)"});c.add(u,"seqA").add(h,"seqB").add(f,"seqB").add(y,"seqC").add(x,"seqC").add(E,"seqC").add(v,"seqC").add(_,"seqD")}function p(){let e=document.getElementById("menu"),t=document.getElementById("nav-s"),n=document.getElementById("cross"),o=document.getElementById("version-s"),r=document.getElementsByClassName("link-s"),l=gsap.timeline({onReverseComplete(){l.clear()}});function i(){t.style.display="block",a.stop(),l.reverse()&&l.play(),l.to(t,{y:0,stagger:.05,autoAlpha:1,duration:.3,ease:"expoScale(0.5,7,none)"}).to(n,{y:0,stagger:.05,autoAlpha:1,duration:.3,ease:"expoScale(0.5,7,none)"}).to(o,{y:0,stagger:.05,autoAlpha:1,duration:.3,ease:"expoScale(0.5,7,none)"}).to(r,{x:0,stagger:.05,autoAlpha:1,duration:.3,ease:"expoScale(0.5,7,none)"})}function s(){l.reverse(),a.start()}e.addEventListener("touchstart",()=>i()),e.addEventListener("click",()=>i()),n.addEventListener("touchstart",()=>s()),n.addEventListener("click",()=>s()),Array.from(r).forEach(e=>{e.addEventListener("touchstart",()=>{l.reverse(),a.start()})})}function g(){let e=document.getElementsByClassName("fix-s");Array.from(e).forEach(e=>{Array.from(e.childNodes).forEach((t,n)=>{if(t.nodeType===Node.TEXT_NODE){let a=document.createElement("br");e.replaceChild(a,e.childNodes[n])}})})}u(),l(),e?(s(),d(),c()):(g(),$(),p()),window.addEventListener("resize",()=>{(e!==window.innerWidth>800||t!==window.innerWidth<=600)&&(window.location.reload(),e=window.innerWidth>800,t=window.innerWidth<=600)})});