document.addEventListener("DOMContentLoaded",()=>{function e(e){let t=e.target,n=t.getBoundingClientRect(),i=window.scrollX||document.documentElement.scrollLeft,o=window.scrollY||document.documentElement.scrollTop,l=n.left+i,r=n.top+o,s=n.width,a=n.height;return{x:l,y:r,w:s,h:a}}function t(e,t,n="red",i=10){let o=document.createElement("div");o.style.width=`${i}px`,o.style.height=`${i}px`,o.style.backgroundColor=n,o.style.position="absolute",o.style.left=`${e}px`,o.style.top=`${t}px`,o.style.zIndex="999",document.body.appendChild(o)}function n(e,t,n,i=0,o="red"){let l=new THREE.PlaneGeometry(1,1),r=new THREE.MeshBasicMaterial({color:o,side:THREE.DoubleSide}),s=new THREE.Mesh(l,r);s.position.set(t,n,i),e.add(s)}function i(e){let t=document.createElement("canvas"),n=t.getContext("2d");t.width=64,t.height=64,n.font="48px serif",n.textAlign="center",n.textBaseline="middle",n.fillText(e,t.width/2,t.height/2);let i=new THREE.Texture(t);return i.needsUpdate=!0,i}function o(t){let n=t.currentTarget.getAttribute("emoji"),o=document.createElement("div");o.classList.add("emoji-container"),o.style.position="fixed",o.style.width="100vw",o.style.height="100vh",o.style.top="0px",o.style.left="0px",o.style.zIndex="9999",document.body.appendChild(o);let l=new THREE.Scene,r=new THREE.OrthographicCamera(-window.innerWidth/2,window.innerWidth/2,window.innerHeight/2,-window.innerHeight/2,.1,1e3);r.position.z=1,r.lookAt(new THREE.Vector3(0,0,0));let s=e(t),a=t.offsetX+s.x,d=t.offsetY+s.y,h=new THREE.WebGLRenderer({alpha:!0});h.setPixelRatio(window.devicePixelRatio),h.setSize(window.innerWidth,window.innerHeight),o.appendChild(h.domElement),window.addEventListener("resize",()=>{h.setSize(window.innerWidth,window.innerHeight)});let c=[],p=i(n),$=new THREE.PlaneGeometry(40,40),y=new THREE.MeshBasicMaterial({map:p,transparent:!0}),u=a-window.innerWidth/2,g=window.innerHeight/2-d;for(let x=0;x<50;x++){let f=new THREE.Mesh($,y);f.position.set(u,g,-1),f.userData.velocityX=(Math.random()-.5)*22,f.userData.velocityY=14*Math.random()+20,l.add(f),c.push(f)}let m=0,w=0;!function e(){++m;let t=!1;c.forEach(e=>{e.position.y+=e.userData.velocityY,e.position.x+=e.userData.velocityX,e.userData.velocityY-=.45,e.position.y>-window.innerHeight/2-64&&e.position.x>-window.innerWidth/2-64&&e.position.x<window.innerWidth/2+64&&(t=!0)}),h.render(l,r),t?w=requestAnimationFrame(e):setTimeout(()=>{o.remove(),window.cancelAnimationFrame(w)},1e4)}()}document.querySelectorAll(".easterEgg").forEach(e=>{e.addEventListener("click",e=>{o(e)})})});